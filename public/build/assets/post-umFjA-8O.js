let p,a,s,v,h,i,l;document.addEventListener("DOMContentLoaded",()=>{p=document.querySelector(".js-post-form"),v=document.querySelector(".js-tech-stack-container"),i=document.querySelector(".js-tech-field"),h=document.querySelector(".js-features-container"),l=document.querySelector(".js-feature-field"),a=document.querySelector(".js-add-tech-but"),s=document.querySelector(".js-add-feature-but"),d(i),d(l),a.addEventListener("click",()=>{m(a,v,i)}),s.addEventListener("click",()=>{m(s,h,l)});function m(n,e,r){const t=r.cloneNode(!0),c=t.querySelector("input");c.value="",d(t),e.appendChild(t)}p.addEventListener("submit",n=>{n.preventDefault();const e=n.target,r=f(e,".js-tech-input","tech_stack"),t=f(e,".js-feature-input","features");e.appendChild(r),e.appendChild(t),e.submit()});function f(n,e,r){const t=n.querySelectorAll(e),c=Array.from(t).map(o=>o.value);console.log("arr ",c);const u=document.createElement("input");u.type="hidden",u.name=r,u.value=JSON.stringify(c);for(let o=0;o<t.length;++o)t[o].remove();return u}function d(n){n.querySelector(".js-remove-but").addEventListener("click",()=>{n.remove()})}});
